# Домашнее задание к занятию «Компоненты Kubernetes» - Подус Сергей

### Задание. Необходимо определить требуемые ресурсы

Известно, что проекту нужны база данных, система кеширования, а само приложение состоит из бекенда и фронтенда. Опишите, какие ресурсы нужны, если известно:

1. Необходимо упаковать приложение в чарт для деплоя в разные окружения.
2. База данных должна быть отказоустойчивой. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
3. Кеш должен быть отказоустойчивый. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
4. Фронтенд обрабатывает внешние запросы быстро, отдавая статику. Потребляет не более 50 МБ ОЗУ на каждый экземпляр, 0.2 ядра. 5 копий.
5. Бекенд потребляет 600 МБ ОЗУ и по 1 ядру на копию. 10 копий.

## Ответ:

***Во первых***, делаем расчет ресурсов:

1. ОЗУ: 12 ГБ (БД) + 12 ГБ (Кеш) + 0.25 ГБ (Фронтенд) + 6 ГБ (Бекенд) = 30.25 ГБ ОЗУ

2. CPU: 3 ядра (БД) + 3 ядра (Кеш) + 1 ядро (Фронтенд) + 10 ядер (Бекенд) = 17 ядер

***Во вторых***, прикидываем примерное количество рабочих нод:

1. **Характеристики одной ноды**: 10 ядер CPU, 16 ГБ ОЗУ

***Расчет по ОЗУ***:

Необходимо: 30.25 ГБ ОЗУ

- Одна нода предоставляет 16 ГБ ОЗУ

- Потребуется: 30.25/16 = 1.89 → **2 ноды**

***Расчет по CPU***:

 Необходимо: 17 ядер

- Одна нода предоставляет 10 ядер

- Потребуется: 17/10 = 1.7 → **2 ноды**

Утитываем запас по производительности и отказоустойчивости, добавляем еще одну ноду 

***Итог***: Потребуется 3 рабочих ноды, с характеристиками (10 CPU и 16 GB RAM = 30 CPU и 48 RAM), сюда же можно учесть системные задачи на каждой ноде, на которые примерно уходит (≈ 

1.5 или 2 CPU и ~ 3-4 GB ОЗУ)

Добавим так же управляющие ноды, учитывая системные процессы, характеристики ***Управляющей ноды*** (2 CPU и 4 ОЗУ)

***Итог***:

1. 3 рабочих ноды, с характеристиками: (10 CPU и 16 GB RAM = 30 CPU и 48 RAM)

2. 3 управляющих ноды с характеристиками: (2 CPU и 4 ОЗУ = 6 CPU и 12 RAM)